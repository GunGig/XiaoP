<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é—¯å…³å­¦ä»£ç ï¼šè§£é”å°Pçš„â€œéšæœºé­”æ³•â€</title>
    <style>
        /* CSS Reset and Basic Styles */
        body, h1, h2, h3, h4, p, pre, code, ul, li, div {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            line-height: 1.8;
            background-color: #f0f2f5;
            color: #333;
            padding: 20px;
        }

        /* Main Container */
        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: #ffffff;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            padding: 30px 40px;
            border: 1px solid #e8e8e8;
        }

        /* Headings */
        h1 {
            color: #2c3e50;
            font-size: 2.4em;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .intro {
            font-size: 1.1em;
            color: #555;
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 20px;
        }

        /* Level Card Style */
        .level-card {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
            transition: all 0.3s ease-in-out;
            border-left: 5px solid #3498db;
        }

        .level-card h2 {
            color: #3498db;
            font-size: 2em;
            margin-bottom: 20px;
        }
        
        h3 {
            color: #16a085;
            margin-top: 25px;
            margin-bottom: 10px;
            font-size: 1.5em;
        }

        .objective {
            font-style: italic;
            color: #7f8c8d;
            margin-bottom: 20px;
            padding: 10px 15px;
            background: #ecf0f1;
            border-radius: 6px;
            border-left: 3px solid #7f8c8d;
        }

        /* Code Blocks */
        pre {
            background-color: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            line-height: 1.6;
        }
        pre code {
            font-family: "Fira Code", "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 0.95em;
        }
        
        /* Analysis & Example Sections */
        .analysis, .example-section {
            margin-top: 20px;
            padding: 15px;
            background: #fdfdfd;
            border: 1px dashed #ccc;
            border-radius: 8px;
        }
        .analysis h4, .example-section h4 {
            color: #27ae60;
            margin-bottom: 10px;
        }
        .analysis ul { list-style-position: inside; padding-left: 10px; }
        .analysis li { margin-bottom: 8px; }
        .analysis code, .example-section code {
            background-color: #e8e8e8;
            color: #c0392b;
            padding: 2px 5px;
            border-radius: 4px;
        }

        /* Quiz Section */
        .quiz-section {
            margin-top: 25px;
            padding: 20px;
            background-color: #fff8e1;
            border: 1px solid #ffecb3;
            border-radius: 8px;
        }
        .quiz-section h4 { color: #f39c12; }
        .quiz-options div { margin: 10px 0; }
        .quiz-options label { margin-left: 8px; cursor: pointer; }
        .feedback {
            margin-top: 10px;
            font-weight: bold;
            padding: 8px;
            border-radius: 4px;
            display: none;
        }
        .feedback.correct { color: #27ae60; background-color: #e8f5e9; }
        .feedback.incorrect { color: #c0392b; background-color: #fbe9e7; }

        /* Buttons */
        .quiz-submit-btn, .unlock-btn {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 20px;
            font-size: 1.05em;
            font-weight: bold;
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .quiz-submit-btn { background-color: #f39c12; }
        .quiz-submit-btn:hover { background-color: #e67e22; }
        .unlock-btn { background: linear-gradient(90deg, #3498db, #2980b9); }
        .unlock-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4); }
        .unlock-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        #copy-button { /* Styles for the final copy button */ }
        
        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="container">
        <h1>é—¯å…³å­¦ä»£ç ï¼šè§£é”å°Pçš„â€œéšæœºé­”æ³•â€</h1>
        <p class="intro">
            æ¬¢è¿æ¥åˆ°ç¼–ç¨‹é—¯å…³æŒ‘æˆ˜ï¼æ¯ä¸ªå…³å¡éƒ½åŒ…å«â€œä¾‹å­->åº”ç”¨->æµ‹éªŒâ€ä¸‰éƒ¨æ›²ã€‚åªæœ‰ç­”å¯¹æµ‹éªŒï¼Œæ‰èƒ½è§£é”ä¸‹ä¸€å…³ã€‚å‡†å¤‡å¥½ï¼Œè®©æˆ‘ä»¬å¼€å§‹çœŸæ­£çš„æŒ‘æˆ˜å§ï¼
        </p>

        <!-- Level 1: Import -->
        <div id="level-1" class="level-card">
            <h2>å…³å¡ 1ï¼šå¯»æ‰¾é­”æ³•çŸ³ (import)</h2>
            <p class="objective">å­¦ä¹ ç›®æ ‡ï¼šç†è§£ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ <code>import</code> å…³é”®å­—æ¥è·å–Pythonçš„å†…ç½®â€œè¶…èƒ½åŠ›â€ã€‚</p>
            
            <div class="example-section">
                <h4>ä¸¾ä¸ªä¾‹å­ ğŸ²</h4>
                <p>é™¤äº†éšæœºæ•°ï¼ŒPythonè¿˜æœ‰ä¸€ä¸ªæ•°å­¦æ¨¡å— `math`ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥åšå¤æ‚çš„æ•°å­¦è®¡ç®—ï¼Œæ¯”å¦‚å¼€å¹³æ–¹æ ¹ã€‚</p>
                <pre><code>import math

# ä½¿ç”¨mathæ¨¡å—é‡Œçš„sqrtå‡½æ•°è®¡ç®—16çš„å¹³æ–¹æ ¹
result = math.sqrt(16)
print(result) # è¾“å‡ºå°†ä¼šæ˜¯ 4.0</code></pre>
            </div>

            <h3>åº”ç”¨åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­</h3>
            <pre><code>import random</code></pre>

            <div class="analysis">
                <h4>ğŸ’¡ ä»£ç è§£è¯»</h4>
                <ul>
                    <li>è¿™è¡Œä»£ç æ˜¯æˆ‘ä»¬æ‰€æœ‰â€œéšæœºé­”æ³•â€çš„åŸºç¡€ã€‚å®ƒå‘Šè¯‰Pythonï¼šâ€œè¯·æŠŠ `random` è¿™ä¸ªè£…æ»¡éšæœºå·¥å…·çš„å·¥å…·ç®±æ‹¿è¿‡æ¥ï¼Œæˆ‘æ¥ä¸‹æ¥è¦ç”¨é‡Œé¢çš„å·¥å…·ã€‚â€</li>
                </ul>
            </div>
            
            <div class="quiz-section">
                <h4>ğŸ§  å°æµ‹éªŒ</h4>
                <p><code>import random</code> è¿™è¡Œä»£ç çš„çœŸæ­£ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
                <div class="quiz-options">
                    <div><input type="radio" id="q1a" name="quiz1" value="a"><label for="q1a">åˆ›å»ºä¸€ä¸ªåä¸º random çš„æ–°å˜é‡ã€‚</label></div>
                    <div><input type="radio" id="q1b" name="quiz1" value="b" data-correct="true"><label for="q1b">å¼•å…¥ä¸€ä¸ªåä¸º random çš„æ¨¡å—ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨å®ƒæä¾›çš„åŠŸèƒ½ã€‚</label></div>
                    <div><input type="radio" id="q1c" name="quiz1" value="c"><label for="q1c">åœ¨å±å¹•ä¸Šæ‰“å°å‡º "random" è¿™ä¸ªå•è¯ã€‚</label></div>
                </div>
                <button class="quiz-submit-btn" data-level="1">æäº¤ç­”æ¡ˆ</button>
                <p class="feedback" id="feedback-1"></p>
            </div>
            
            <button class="unlock-btn" data-unlock="level-2" disabled>æˆ‘å·²ç­”å¯¹ï¼Œè¿›å…¥ä¸‹ä¸€å…³ï¼</button>
        </div>

        <!-- Level 2: First Function -->
        <div id="level-2" class="level-card hidden">
            <h2>å…³å¡ 2ï¼šå°è¯•ç‰›åˆ€ (å®šä¹‰å‡½æ•°)</h2>
            <p class="objective">å­¦ä¹ ç›®æ ‡ï¼šå­¦ä¹ å®šä¹‰ç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œå¤„ç†å­—ç¬¦ä¸²ï¼Œå¹¶ä½¿ç”¨ `random.choice()` ä»åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ã€‚</p>

            <div class="example-section">
                <h4>ä¸¾ä¸ªä¾‹å­ ğŸ‘‹</h4>
                <p>å‡½æ•°å°±åƒä¸€ä¸ªå¯ä»¥é‡å¤ä½¿ç”¨çš„â€œé…æ–¹â€ã€‚ä¸‹é¢è¿™ä¸ªå‡½æ•°å¯ä»¥å‘ä»»ä½•äººæ‰“æ‹›å‘¼ã€‚</p>
                <pre><code>def greet(name):
    print(f"ä½ å¥½, {name}ï¼æ¬¢è¿æ¥åˆ°Pythonçš„ä¸–ç•Œã€‚")

# è°ƒç”¨å‡½æ•°
greet("å°æ˜") # è¾“å‡º: ä½ å¥½, å°æ˜ï¼æ¬¢è¿æ¥åˆ°Pythonçš„ä¸–ç•Œã€‚
greet("å°çº¢") # è¾“å‡º: ä½ å¥½, å°çº¢ï¼æ¬¢è¿æ¥åˆ°Pythonçš„ä¸–ç•Œã€‚</code></pre>
            </div>

            <h3>åº”ç”¨åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­</h3>
            <pre><code>def random_choice_from_list(options_str):
    if not options_str:
        return "ä½ è¿˜æ²¡æœ‰å‘Šè¯‰æˆ‘æœ‰ä»€ä¹ˆé€‰é¡¹å‘¢ï¼"
    options = [opt.strip() for opt in options_str.split(',') if opt.strip()]
    if not options:
        return "çœ‹èµ·æ¥ä½ æä¾›çš„é€‰é¡¹éƒ½æ˜¯ç©ºçš„å“¦ã€‚"
    return f"å—¯... æˆ‘å¸®ä½ é€‰äº†ï¼š**{random.choice(options)}**ï¼"</code></pre>

            <div class="analysis">
                <h4>ğŸ’¡ ä»£ç è§£è¯»</h4>
                <ul>
                    <li><code>def...:</code> å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ã€‚</li>
                    <li><code>options_str.split(',')</code> æŠŠç”¨é€—å·è¿æ¥çš„å­—ç¬¦ä¸²ï¼ˆå¦‚"ç±³é¥­,é¢æ¡"ï¼‰å˜æˆä¸€ä¸ªåˆ—è¡¨ï¼ˆ<code>['ç±³é¥­', 'é¢æ¡']</code>ï¼‰ã€‚</li>
                    <li><code>random.choice(options)</code> ä»åˆ—è¡¨ä¸­éšæœºæŒ‘é€‰ä¸€ä¸ªå…ƒç´ ã€‚</li>
                </ul>
            </div>
            
            <div class="quiz-section">
                <h4>ğŸ§  å°æµ‹éªŒ</h4>
                <p>æ‰§è¡Œä»£ç  `random.choice(['è‹¹æœ', 'é¦™è•‰', 'æ©™å­'])` åï¼Œæœ€å¯èƒ½å¾—åˆ°ä¸‹é¢å“ªä¸€ä¸ªç»“æœï¼Ÿ</p>
                <div class="quiz-options">
                    <div><input type="radio" id="q2a" name="quiz2" value="a"><label for="q2a">åˆ—è¡¨ `['è‹¹æœ', 'é¦™è•‰', 'æ©™å­']` æœ¬èº«ã€‚</label></div>
                    <div><input type="radio" id="q2b" name="quiz2" value="b"><label for="q2b">ä¸€ä¸ªåŒ…å«å•ä¸ªæ°´æœçš„åˆ—è¡¨ï¼Œæ¯”å¦‚ `['é¦™è•‰']`ã€‚</label></div>
                    <div><input type="radio" id="q2c" name="quiz2" value="c" data-correct="true"><label for="q2c">ä¸€ä¸ªå•ç‹¬çš„æ°´æœå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ `'é¦™è•‰'`ã€‚</label></div>
                </div>
                <button class="quiz-submit-btn" data-level="2">æäº¤ç­”æ¡ˆ</button>
                <p class="feedback" id="feedback-2"></p>
            </div>
            
            <button class="unlock-btn" data-unlock="level-3" disabled>å‡½æ•°å’Œéšæœºé€‰æ‹©ï¼ŒGetï¼</button>
        </div>
        
        <!-- Level 3: Password Generation -->
        <div id="level-3" class="level-card hidden">
            <h2>å…³å¡ 3ï¼šåˆ›é€ å®ˆæŠ¤å’’ (å¾ªç¯ä¸é»˜è®¤å‚æ•°)</h2>
            <p class="objective">å­¦ä¹ ç›®æ ‡ï¼šå­¦ä¹ ä½¿ç”¨å¾ªç¯ç”ŸæˆæŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œå¹¶äº†è§£å‡½æ•°çš„é»˜è®¤å‚æ•°ã€‚</p>
            
            <div class="example-section">
                <h4>ä¸¾ä¸ªä¾‹å­ â³</h4>
                <p>é»˜è®¤å‚æ•°è®©å‡½æ•°æ›´çµæ´»ã€‚ä¸‹é¢è¿™ä¸ªå‡½æ•°å¯ä»¥æ‰“å°æŒ‡å®šæ•°é‡çš„ç‚¹ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œå°±é»˜è®¤æ‰“å°3ä¸ªã€‚</p>
                <pre><code>def print_dots(count=3):
    print("åŠ è½½ä¸­", end="")
    for _ in range(count):
        print(".", end="")
    print() # æ¢è¡Œ

print_dots()     # è¾“å‡º: åŠ è½½ä¸­...
print_dots(5)    # è¾“å‡º: åŠ è½½ä¸­.....</code></pre>
            </div>

            <h3>åº”ç”¨åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­</h3>
            <pre><code>def generate_random_password(length=8):
    chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    password = "".join(random.choice(chars) for _ in range(length))
    return f"ä¸ºä½ ç”Ÿæˆäº†ä¸€ä¸ª{length}ä½çš„éšæœºå¯†ç ï¼š**{password}**"</code></pre>
            
            <div class="analysis">
                <h4>ğŸ’¡ ä»£ç è§£è¯»</h4>
                <ul>
                    <li><code>length=8</code> å°±æ˜¯é»˜è®¤å‚æ•°ã€‚å¦‚æœè°ƒç”¨å‡½æ•°æ—¶ä¸ç»™é•¿åº¦ï¼Œå°±ç”¨8ã€‚</li>
                    <li><code>for _ in range(length)</code> ä¼šå¾ªç¯ `length` æ¬¡ã€‚</li>
                    <li><code>"".join(...)</code> æŠŠæ¯æ¬¡å¾ªç¯é€‰å‡ºçš„å­—ç¬¦æ‹¼æ¥æˆä¸€ä¸ªå®Œæ•´çš„å­—ç¬¦ä¸²ã€‚</li>
                </ul>
            </div>
            
            <div class="quiz-section">
                <h4>ğŸ§  å°æµ‹éªŒ</h4>
                <p>æœ‰ä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸º `def create_user(name, role="guest"):`ï¼Œå¦‚æœæˆ‘ä»¬è¿™æ ·è°ƒç”¨å®ƒï¼š`create_user("Alice")`ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°å†…éƒ¨ï¼Œå˜é‡ `role` çš„å€¼ä¼šæ˜¯ä»€ä¹ˆï¼Ÿ</p>
                <div class="quiz-options">
                    <div><input type="radio" id="q3a" name="quiz3" value="a" data-correct="true"><label for="q3a">"guest"</label></div>
                    <div><input type="radio" id="q3b" name="quiz3" value="b"><label for="q3b">"Alice"</label></div>
                    <div><input type="radio" id="q3c" name="quiz3" value="c"><label for="q3c">ç¨‹åºä¼šæŠ¥é”™ï¼Œå› ä¸ºç¼ºå°‘å‚æ•°ã€‚</label></div>
                </div>
                <button class="quiz-submit-btn" data-level="3">æäº¤ç­”æ¡ˆ</button>
                <p class="feedback" id="feedback-3"></p>
            </div>

            <button class="unlock-btn" data-unlock="level-4" disabled>å¾ªç¯å’Œé»˜è®¤å‚æ•°ï¼Œæ²¡é—®é¢˜ï¼</button>
        </div>
        
        <!-- Level 4: Interactive Game -->
        <div id="level-4" class="level-card hidden">
            <h2>å…³å¡ 4ï¼šå¤§æ˜¾èº«æ‰‹ (äº¤äº’ä¸é”™è¯¯å¤„ç†)</h2>
            <p class="objective">å­¦ä¹ ç›®æ ‡ï¼šæŒæ¡ `while` å¾ªç¯ã€ç”¨æˆ·è¾“å…¥ `input()`ã€ä»¥åŠ `try-except` é”™è¯¯å¤„ç†ï¼Œæ‰“é€ ä¸€ä¸ªå®Œæ•´çš„äº¤äº’å¼åº”ç”¨ã€‚</p>
            
             <div class="example-section">
                <h4>ä¸¾ä¸ªä¾‹å­ ğŸ”‘</h4>
                <p>æˆ‘ä»¬å¯ä»¥ç”¨ `while` å’Œ `input` åšä¸€ä¸ªç®€å•çš„å¯†ç éªŒè¯ç¨‹åºï¼Œ`try-except` èƒ½é˜²æ­¢ç”¨æˆ·è¾“å…¥å¥‡æ€ªçš„ä¸œè¥¿å¯¼è‡´ç¨‹åºå´©æºƒã€‚</p>
                <pre><code>SECRET_CODE = 1234

while True:
    try:
        code_str = input("è¯·è¾“å…¥å¯†ç  (æ•°å­—): ")
        code_num = int(code_str) # å°è¯•æŠŠè¾“å…¥è½¬æˆæ•°å­—
        if code_num == SECRET_CODE:
            print("å¯†ç æ­£ç¡®ï¼")
            break # è·³å‡ºå¾ªç¯
        else:
            print("å¯†ç é”™è¯¯ï¼")
    except ValueError:
        print("æ— æ•ˆè¾“å…¥ï¼Œè¯·è¾“å…¥æ•°å­—ï¼")</code></pre>
            </div>

            <h3>åº”ç”¨åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼ˆçŒœæ•°å­—æ¸¸æˆç‰‡æ®µï¼‰</h3>
            <pre><code>while attempts < max_attempts:
    try:
        guess_str = input("è¯·è¾“å…¥ä½ çŒœçš„æ•°å­—: ")
        guess = int(guess_str)
        # ... (åˆ¤æ–­å¤§å°çš„é€»è¾‘)
    except ValueError:
        print("è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—ï¼")</code></pre>
        
            <div class="analysis">
                <h4>ğŸ’¡ ä»£ç è§£è¯»</h4>
                <ul>
                    <li><code>while ...:</code> åªè¦æ¡ä»¶æ»¡è¶³ï¼Œå¾ªç¯å°±ä¼šä¸€ç›´ç»§ç»­ã€‚</li>
                    <li><code>input()</code> æš‚åœç¨‹åºï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ã€‚</li>
                    <li><code>try...except ValueError:</code> å°è¯•æ‰§è¡Œ `try` å—é‡Œçš„ä»£ç ã€‚å¦‚æœç”¨æˆ·è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼Œ<code>int()</code>ä¼šå¤±è´¥å¹¶å¼•å‘ `ValueError`ï¼Œç¨‹åºä¼šç«‹åˆ»è·³è½¬åˆ° `except` å—ï¼Œè€Œä¸ä¼šå´©æºƒã€‚</li>
                </ul>
            </div>

            <div class="quiz-section">
                <h4>ğŸ§  å°æµ‹éªŒ</h4>
                <p>åœ¨çŒœæ•°å­—æ¸¸æˆä¸­ï¼Œä½¿ç”¨ `try...except` ç»“æ„çš„ä¸»è¦ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
                <div class="quiz-options">
                    <div><input type="radio" id="q4a" name="quiz4" value="a"><label for="q4a">è®©æ¸¸æˆè¿è¡Œå¾—æ›´å¿«ã€‚</label></div>
                    <div><input type="radio" id="q4b" name="quiz4" value="b" data-correct="true"><label for="q4b">é˜²æ­¢å½“ç”¨æˆ·è¾“å…¥éæ•°å­—å†…å®¹ï¼ˆå¦‚'abc'ï¼‰æ—¶ç¨‹åºå´©æºƒã€‚</label></div>
                    <div><input type="radio" id="q4c" name="quiz4" value="c"><label for="q4c">å¸®åŠ©ç”µè„‘æ›´å¿«åœ°çŒœåˆ°æ•°å­—ã€‚</label></div>
                </div>
                <button class="quiz-submit-btn" data-level="4">æäº¤ç­”æ¡ˆ</button>
                <p class="feedback" id="feedback-4"></p>
            </div>

            <button class="unlock-btn" data-unlock="level-5" disabled>äº¤äº’å’Œé”™è¯¯å¤„ç†ï¼Œå¤ªé…·äº†ï¼</button>
        </div>

        <!-- Level 5: The Menu -->
        <div id="level-5" class="level-card hidden">
            <h2>å…³å¡ 5ï¼šé­”æ³•èœå• (æ•´åˆä¸å¯åŠ¨)</h2>
            <p class="objective">å­¦ä¹ ç›®æ ‡ï¼šå­¦ä¹ å¦‚ä½•å°†æ‰€æœ‰å‡½æ•°ç»„ç»‡èµ·æ¥ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªä¸»èœå•å’Œ `if __name__ == "__main__"` æ¥å½¢æˆä¸€ä¸ªå¯ç‹¬ç«‹è¿è¡Œçš„å®Œæ•´ç¨‹åºã€‚</p>
            
            <h3>åº”ç”¨åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­</h3>
            <pre><code>def run_random_magic_menu():
    # ... (ç”¨ while True å’Œ if/elif/else è°ƒç”¨ä¸Šé¢çš„æ‰€æœ‰å‡½æ•°)

# åªæœ‰å½“è¿™ä¸ªæ–‡ä»¶è¢«ç›´æ¥è¿è¡Œæ—¶ï¼Œæ‰æ‰§è¡Œä¸‹é¢çš„ä»£ç 
if __name__ == "__main__":
    print("æµ‹è¯•éšæœºé­”æ³•æ¨¡å—...")
    run_random_magic_menu()</code></pre>
            
            <div class="analysis">
                <h4>ğŸ’¡ ä»£ç è§£è¯»</h4>
                <ul>
                    <li><code>run_random_magic_menu()</code> å‡½æ•°æ˜¯æ€»æŒ‡æŒ¥ï¼Œå®ƒé€šè¿‡ä¸€ä¸ªæ— é™å¾ªç¯å’Œ `if/elif/else` åˆ¤æ–­æ¥è°ƒç”¨æˆ‘ä»¬ä¹‹å‰å†™å¥½çš„å„ä¸ªåŠŸèƒ½å‡½æ•°ã€‚</li>
                    <li><code>if __name__ == "__main__":</code> æ˜¯Pythonç¨‹åºçš„æ ‡å‡†â€œå¯åŠ¨å™¨â€ã€‚å®ƒç¡®ä¿ `run_random_magic_menu()` åªåœ¨è¿™ä¸ªæ–‡ä»¶è¢«ç›´æ¥è¿è¡Œæ—¶æ‰æ‰§è¡Œã€‚å¦‚æœè¿™ä¸ªæ–‡ä»¶è¢«å…¶ä»–ç¨‹åºä½œä¸ºæ¨¡å—å¯¼å…¥ï¼Œè¿™éƒ¨åˆ†ä»£ç å°±ä¸ä¼šè¿è¡Œï¼Œä»è€Œé¿å…äº†ä¸å¿…è¦çš„éº»çƒ¦ã€‚</li>
                </ul>
            </div>
            
             <div class="quiz-section">
                <h4>ğŸ§  å°æµ‹éªŒ</h4>
                <p>`if __name__ == "__main__":` è¿™æ®µä»£ç æœ‰ä»€ä¹ˆç‰¹æ®Šä½œç”¨ï¼Ÿ</p>
                <div class="quiz-options">
                    <div><input type="radio" id="q5a" name="quiz5" value="a" data-correct="true"><label for="q5a">å®ƒä¸‹é¢çš„ä»£ç åªæœ‰åœ¨è¯¥æ–‡ä»¶è¢«ç›´æ¥æ‰§è¡Œæ—¶æ‰ä¼šè¿è¡Œã€‚</label></div>
                    <div><input type="radio" id="q5b" name="quiz5" value="b"><label for="q5b">å®ƒä¸‹é¢çš„ä»£ç åªæœ‰åœ¨è¯¥æ–‡ä»¶è¢«å…¶ä»–æ–‡ä»¶å¯¼å…¥æ—¶æ‰ä¼šè¿è¡Œã€‚</label></div>
                    <div><input type="radio" id="q5c" name="quiz5" value="c"><label for="q5c">è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„ifè¯­å¥ï¼Œæ²¡æœ‰ç‰¹æ®Šå«ä¹‰ã€‚</label></div>
                </div>
                <button class="quiz-submit-btn" data-level="5">æäº¤ç­”æ¡ˆ</button>
                <p class="feedback" id="feedback-5"></p>
            </div>

            <button class="unlock-btn" data-unlock="final-challenge" disabled>æˆ‘å·²å…¨éƒ¨é€šå…³ï¼æŸ¥çœ‹æœ€ç»ˆä»£ç ï¼</button>
        </div>

        <!-- Final Code -->
        <div id="final-challenge" class="level-card hidden">
            <!-- Final code block and copy button will be inserted here, similar to previous versions -->
            <h2>ğŸ† æœ€ç»ˆæŒ‘æˆ˜ï¼šå®Œæ•´çš„é­”æ³•å’’è¯­ ğŸ†</h2>
            <p class="objective">æ­å–œä½ ï¼Œå‹‡å£«ï¼ä½ å·²ç»æŒæ¡äº†â€œéšæœºé­”æ³•â€çš„æ‰€æœ‰ç§˜å¯†ã€‚ä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç ï¼Œå®ƒå°†ä½ å­¦åˆ°çš„æ‰€æœ‰çŸ¥è¯†ç‚¹ç»„åˆåœ¨äº†ä¸€èµ·ã€‚ä½ å¯ä»¥å°†å®ƒå®Œæ•´åœ°ç²˜è´´åˆ° `magic_handler.py` æ–‡ä»¶ä¸­ã€‚</p>
            <div style="position: relative;">
                <button id="copy-button" style="position: absolute; top: 15px; right: 15px; background-color: #e67e22; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; opacity: 0.8; transition: all 0.3s ease;">ä¸€é”®å¤åˆ¶</button>
                <pre><code id="python-code"># XiaoP/random_magic/magic_handler.py
import random

def random_choice_from_list(options_str):
    """
    ä»ç”¨æˆ·æä¾›çš„é€—å·åˆ†éš”çš„é€‰é¡¹ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªã€‚
    """
    if not options_str:
        return "ä½ è¿˜æ²¡æœ‰å‘Šè¯‰æˆ‘æœ‰ä»€ä¹ˆé€‰é¡¹å‘¢ï¼"
    options = [opt.strip() for opt in options_str.split(',') if opt.strip()]
    if not options:
        return "çœ‹èµ·æ¥ä½ æä¾›çš„é€‰é¡¹éƒ½æ˜¯ç©ºçš„å“¦ã€‚"
    return f"å—¯... æˆ‘å¸®ä½ é€‰äº†ï¼š**{random.choice(options)}**ï¼"

def generate_random_password(length=8):
    """ç”Ÿæˆä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„éšæœºå¯†ç ï¼ˆåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—ï¼‰ã€‚"""
    if length < 4:
        return "å¯†ç é•¿åº¦è‡³å°‘è¦4ä½æ‰èƒ½æœ‰ç‚¹æ„ä¹‰å“¦ï¼"
    
    chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    password = "".join(random.choice(chars) for _ in range(length))
    return f"ä¸ºä½ ç”Ÿæˆäº†ä¸€ä¸ª{length}ä½çš„éšæœºå¯†ç ï¼š**{password}** (è¯·å¦¥å–„ä¿ç®¡ï¼)"

def guess_the_number_game():
    """ä¸€ä¸ªç®€å•çš„çŒœæ•°å­—æ¸¸æˆã€‚"""
    secret_number = random.randint(1, 100)
    attempts = 0
    max_attempts = 7

    print("\n--- çŒœæ•°å­—æ¸¸æˆå¼€å§‹ï¼---")
    print("æˆ‘å·²ç»æƒ³å¥½äº†ä¸€ä¸ª1åˆ°100ä¹‹é—´çš„æ•°å­—ï¼Œä½ æ¥çŒœçŒœçœ‹ï¼")
    print(f"ä½ æ€»å…±æœ‰ {max_attempts} æ¬¡æœºä¼šã€‚")

    while attempts < max_attempts:
        try:
            guess_str = input(f"ç¬¬ {attempts + 1} æ¬¡å°è¯•ï¼Œè¯·è¾“å…¥ä½ çŒœçš„æ•°å­— (1-100)ï¼Œæˆ–è¾“å…¥ 'q' é€€å‡ºæ¸¸æˆ: ")
            if guess_str.lower() == 'q':
                print(f"å¥½å§ï¼Œæ¸¸æˆç»“æŸã€‚æ­£ç¡®ç­”æ¡ˆæ˜¯ {secret_number}ã€‚")
                return
            
            guess = int(guess_str)
            attempts += 1

            if guess < 1 or guess > 100:
                print("è¯·è¾“å…¥1åˆ°100ä¹‹é—´çš„æ•°å­—å“¦ï¼")
                continue # ä¸è®¡å…¥æœ‰æ•ˆå°è¯•æ¬¡æ•°ï¼Œè®©ç”¨æˆ·é‡æ–°è¾“å…¥
            
            if guess < secret_number:
                print("å¤ªå°äº†ï¼Œå†å¤§ä¸€ç‚¹è¯•è¯•ï¼")
            elif guess > secret_number:
                print("å¤ªå¤§äº†ï¼Œå†å°ä¸€ç‚¹è¯•è¯•ï¼")
            else:
                print(f"ğŸ‰ æ­å–œä½ ï¼åœ¨ç¬¬ {attempts} æ¬¡çŒœä¸­äº†ï¼æ•°å­—å°±æ˜¯ {secret_number}ï¼ä½ çœŸæ£’ï¼")
                return 
        except ValueError:
            print("è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—ï¼æˆ–è€…è¾“å…¥ 'q' é€€å‡ºã€‚")

    print(f"å“å‘€ï¼Œæœºä¼šç”¨å®Œäº†ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ {secret_number}ã€‚ä¸‹æ¬¡åŠ æ²¹ï¼ğŸ’ª")
    return

def run_random_magic_menu():
    """éšæœºé­”æ³•åŠŸèƒ½çš„èœå•"""
    print("\nâœ¨ å°Pçš„éšæœºé­”æ³•å±‹ âœ¨")
    while True:
        print("\nä½ å¯ä»¥é€‰æ‹©ï¼š")
        print("1. å¸®æˆ‘åšé€‰æ‹© (æ¯”å¦‚ä»Šå¤©åƒä»€ä¹ˆï¼Ÿ)")
        print("2. ç”Ÿæˆä¸€ä¸ªéšæœºå¯†ç ")
        print("3. ç©çŒœæ•°å­—æ¸¸æˆ")
        print("0. è¿”å›ä¸å°PèŠå¤©")

        choice = input("è¯·è¾“å…¥ä½ çš„é€‰æ‹© (0-3): ").strip()

        if choice == '1':
            options_input = input("è¯·å‘Šè¯‰æˆ‘éƒ½æœ‰å“ªäº›é€‰é¡¹ï¼Œç”¨é€—å·éš”å¼€ (æ¯”å¦‚ï¼šç±³é¥­,é¢æ¡,é¥ºå­): ")
            result = random_choice_from_list(options_input)
            print(f"å°Pè¯´ï¼š{result}")
        elif choice == '2':
            try:
                length_str = input("ä½ å¸Œæœ›å¯†ç æœ‰å¤šå°‘ä½ï¼Ÿ(å»ºè®®8-16ä½ï¼Œæœ€å°‘4ä½ï¼Œç›´æ¥å›è½¦é»˜è®¤ä¸º8): ")
                if not length_str:
                    length = 8
                else:
                    length = int(length_str)
                
                if length >= 4:
                    result = generate_random_password(length)
                    print(f"å°Pè¯´ï¼š{result}")
                else:
                    print("å°Pè¯´ï¼šå¯†ç é•¿åº¦è‡³å°‘è¦4ä½å“¦ï¼")
            except ValueError:
                print("å°Pè¯´ï¼šè¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—ä½œä¸ºé•¿åº¦ã€‚")
        elif choice == '3':
            guess_the_number_game()
            print("æ¸¸æˆç»“æŸï¼Œå·²è¿”å›éšæœºé­”æ³•å±‹ã€‚")
        elif choice == '0':
            print("å·²é€€å‡ºéšæœºé­”æ³•å±‹ã€‚")
            break
        else:
            print("æ— æ•ˆçš„é€‰æ‹©ï¼Œè¯·è¾“å…¥0åˆ°3ä¹‹é—´çš„æ•°å­—å“¦ï¼")

if __name__ == "__main__":
    print("æµ‹è¯•éšæœºé­”æ³•æ¨¡å—...")
    run_random_magic_menu()
</code></pre>
            </div>
        </div>

    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Quiz and Unlock Logic ---
        const quizButtons = document.querySelectorAll('.quiz-submit-btn');
        quizButtons.forEach(button => {
            button.addEventListener('click', () => {
                const level = button.dataset.level;
                const quizForm = button.closest('.quiz-section');
                const selectedOption = quizForm.querySelector(`input[name="quiz${level}"]:checked`);
                const feedbackEl = document.getElementById(`feedback-${level}`);
                
                if (!selectedOption) {
                    feedbackEl.textContent = "è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼";
                    feedbackEl.className = 'feedback incorrect';
                    feedbackEl.style.display = 'block';
                    return;
                }

                const isCorrect = selectedOption.hasAttribute('data-correct');
                if (isCorrect) {
                    feedbackEl.textContent = "å›ç­”æ­£ç¡®ï¼å¤ªæ£’äº†ï¼ğŸ‰";
                    feedbackEl.className = 'feedback correct';
                    
                    // Disable quiz and enable next level button
                    const levelCard = button.closest('.level-card');
                    const unlockButton = levelCard.querySelector('.unlock-btn');
                    unlockButton.disabled = false;
                    
                    // Disable the quiz inputs and submit button
                    quizForm.querySelectorAll('input, button').forEach(el => el.disabled = true);
                } else {
                    feedbackEl.textContent = "ç­”æ¡ˆä¸å¯¹å“¦ï¼Œå†æƒ³æƒ³ï¼ŸğŸ¤”";
                    feedbackEl.className = 'feedback incorrect';
                }
                feedbackEl.style.display = 'block';
            });
        });

        // --- Unlock Button Logic ---
        const unlockButtons = document.querySelectorAll('.unlock-btn');
        unlockButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                if (button.disabled) return;

                const targetId = button.getAttribute('data-unlock');
                const nextLevel = document.getElementById(targetId);

                if (nextLevel) {
                    nextLevel.classList.remove('hidden');
                    nextLevel.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    e.target.textContent = 'å·²å®Œæˆ âœ”ï¸';
                }
            });
        });

        // --- Copy Button Logic ---
        const copyButton = document.getElementById('copy-button');
        const codeBlock = document.getElementById('python-code');
        if (copyButton) {
            copyButton.addEventListener('click', () => {
                navigator.clipboard.writeText(codeBlock.innerText).then(() => {
                    copyButton.textContent = 'å·²å¤åˆ¶!';
                    copyButton.style.backgroundColor = '#2ecc71';
                    setTimeout(() => {
                        copyButton.textContent = 'ä¸€é”®å¤åˆ¶';
                        copyButton.style.backgroundColor = '#e67e22';
                    }, 2000);
                });
            }
        )};
    });
    </script>

</body>
</html>